<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compare My JSON</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div class="headline">
      <h1>Compare My JSON</h1>
    </div>

    <div class="controls">
      <button id="compareBtn" class="styled-btn styled-btn-primary">
        <span class="styled-btn-inner">
          <span class="btn-icon">A ⇄ B</span> Vergleichen
        </span>
      </button>
      <button id="scanPropsBtn" class="styled-btn styled-btn-violet">
        <span class="styled-btn-inner">Properties scannen</span>
      </button>
      <div class="property-selector">
        <button id="propSelectorBtn" class="styled-btn styled-btn-violet" disabled>
          <span class="styled-btn-inner">
            <span class="prop-selector-text">Properties auswählen</span>
            <span class="prop-selector-arrow">▼</span>
          </span>
        </button>
        <div id="propSelectorDropdown" class="prop-selector-dropdown">
          <div class="prop-selector-actions">
            <a href="#" id="selectAllProps">Alle auswählen</a>
            <a href="#" id="deselectAllProps">Alle abwählen</a>
          </div>
          <div class="prop-selector-list" id="propSelectorList"></div>
        </div>
      </div>
      <div class="normalize-selector">
        <button id="normalizeBtn" class="styled-btn styled-btn-primary">
          <span class="styled-btn-inner">
            <span class="btn-icon">↕</span> Normalisieren
            <span class="normalize-arrow">▼</span>
          </span>
        </button>
        <div id="normalizeDropdown" class="normalize-dropdown">
          <button class="normalize-option" data-mode="a-master">
            <span class="option-icon">A →</span> A ist Master
          </button>
          <button class="normalize-option" data-mode="b-master">
            <span class="option-icon">B →</span> B ist Master
          </button>
          <button class="normalize-option" data-mode="alphabetical">
            <span class="option-icon">A-Z</span> Alphabetisch
          </button>
        </div>
      </div>
      <button id="exampleBtn" class="styled-btn styled-btn-gray">
        <span class="styled-btn-inner">Beispiel laden</span>
      </button>
    </div>

    <div class="content">
      <div class="container json-a">
        <div class="container-header">
          <h2>JSON <span class="label-a">A</span><input type="text" class="alias-input" id="aliasA" placeholder="Alias..." title="Alias eingeben"></h2>
          <div class="container-actions">
            <label class="upload-btn" title="Datei laden">
              <input type="file" id="fileA" accept=".json">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
            </label>
            <button class="format-btn" data-target="jsonA" title="Formatieren">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><path d="M9 12c-1 0-1 .5-1 1v1.5c0 .5-.5 1-1 1 .5 0 1 .5 1 1V18c0 .5 0 1 1 1"/><path d="M15 12c1 0 1 .5 1 1v1.5c0 .5.5 1 1 1-.5 0-1 .5-1 1V18c0 .5 0 1-1 1"/></svg>
            </button>
            <button class="copy-btn" data-target="jsonA" title="Kopieren">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
            </button>
            <button class="clear-single-btn" data-target="jsonA" title="Leeren">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
            </button>
            <button class="expand-btn" data-target="jsonA" title="Vergrößern">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" y1="3" x2="14" y2="10"/><line x1="3" y1="21" x2="10" y2="14"/></svg>
            </button>
          </div>
        </div>
        <div class="editor-wrapper">
          <pre class="syntax-highlight" id="highlightA"></pre>
          <textarea id="jsonA" placeholder="JSON A hier eingeben..." spellcheck="false"></textarea>
        </div>
      </div>
      <div class="container json-b">
        <div class="container-header">
          <h2>JSON <span class="label-b">B</span><input type="text" class="alias-input" id="aliasB" placeholder="Alias..." title="Alias eingeben"></h2>
          <div class="container-actions">
            <label class="upload-btn" title="Datei laden">
              <input type="file" id="fileB" accept=".json">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
            </label>
            <button class="format-btn" data-target="jsonB" title="Formatieren">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><path d="M9 12c-1 0-1 .5-1 1v1.5c0 .5-.5 1-1 1 .5 0 1 .5 1 1V18c0 .5 0 1 1 1"/><path d="M15 12c1 0 1 .5 1 1v1.5c0 .5.5 1 1 1-.5 0-1 .5-1 1V18c0 .5 0 1-1 1"/></svg>
            </button>
            <button class="copy-btn" data-target="jsonB" title="Kopieren">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
            </button>
            <button class="clear-single-btn" data-target="jsonB" title="Leeren">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
            </button>
            <button class="expand-btn" data-target="jsonB" title="Vergrößern">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" y1="3" x2="14" y2="10"/><line x1="3" y1="21" x2="10" y2="14"/></svg>
            </button>
          </div>
        </div>
        <div class="editor-wrapper">
          <pre class="syntax-highlight" id="highlightB"></pre>
          <textarea id="jsonB" placeholder="JSON B hier eingeben..." spellcheck="false"></textarea>
        </div>
      </div>
    </div>

    <div class="result-section">
      <div class="result-header">
        <h2>Unterschiede</h2>
        <div class="filter-buttons">
          <button class="filter-btn active" data-filter="all">Alle</button>
          <button class="filter-btn" data-filter="removed">Nur in A</button>
          <button class="filter-btn" data-filter="added">Nur in B</button>
          <button class="filter-btn" data-filter="changed">Unterschiedlich</button>
        </div>
        <div class="property-filter">
          <input type="text" id="propertyFilter" placeholder="Property filtern..." title="z.B. 'email' oder 'adresse.plz'">
        </div>
        <button id="toggleAllBtn" class="styled-btn styled-btn-primary styled-btn-sm">
          <span class="styled-btn-inner">Alle zuklappen</span>
        </button>
        <button id="exportBtn" class="styled-btn styled-btn-primary styled-btn-sm">
          <span class="styled-btn-inner">Exportieren</span>
        </button>
      </div>
      <div id="diffResult" class="diff-result"></div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
